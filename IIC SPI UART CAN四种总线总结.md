# IIC SPI UART CAN四种总线总结

## 1.IIC

1.以1根串行数据线（**SDA**）和1根串行时钟线（**SCL）**实现了**半双工**的同步数据传输

2主从通信中，可以有**多个I2C总线器件**同时接到I2C总线 上，通过**地址**来识别通信对象。

3传输速率有限，标准模式下可达到100Kbps，快速模式下可达到**400Kbps**

4.总线时序

![image-20220401093947844](C:\Users\KY Xu\Desktop\picture\image-4)

​		数据起始位：当SCL为高电平的时候，SDA下降沿。

​		数据终止位：当SCL为高电平的时候，SDA上升沿

​		数据传输：SCL为高电平的时候保证SDA数据稳定。数据传输时候MSB在前，LSB在后，从示波器上看，从左向右依次读出数据即可

​		应答信号：每次发到SDA上的必须是8位，并且主机发送8位后释放总线，从机收到数据后必须拉低SDA一个时钟

![image-20220401094438660](C:\Users\KY Xu\Desktop\picture\image-5)

​		 写时序：

![image-20220401094606000](C:\Users\KY Xu\Desktop\picture\image-6)

​		步骤：开始信号->发送IIC器件地址（7位地址+1位读写为）->从机ACK->重新发送开始信号->发送写入寄存器地址->从机ACK信号->发送写入寄存器的数据->从机ACK->停止信号

​        读时序：（分四步）

![image-20220401094939303](C:\Users\KY Xu\Desktop\picture\image-7)

​		步骤：开始信号->发送IIC器件地址+写标志位->从机ACK->重新发送开始信号->发送写入寄存器地址->从机ACK信号->重新发送开始位->发送IIC器件地址+读标志位->从机ACK->从机发送数据->主机ACK->停止信号	

## 2.SPI总线

1. SPI通常有SCK时钟，CS片选，MISO，MOSI数据信号四根信号线，实现全双工通信。

2. 2主从通信中，可以有**多个SPI总线器件**同时接到SPI总线 上，通过**片选信号**来识别通信对象。

3. SPI传输速率能达到30MHZ

4. 四种工作模式。在工作之前是高电平还是低电平/是第一个跳变沿触发还是第二个跳变沿触发

   ![image-20220401133858319](C:\Users\KY Xu\Desktop\picture\image-8)

4. 时序：

   ![image-20220401133930441](C:\Users\KY Xu\Desktop\picture\image-9)

CS片选信号拉低，标志数据传输开始。由于全双工通信，读写时序可以一起完成。。CS信号拉高表征数据传输结束。



## 3.UART串口

**UART**：通用异步收发传输器。是一种通用的串行异步全双工数据收发传输器。

​				uart和usart相比，Uart是异步的，usart可以是同步的，提供了一根同步时钟线。

**UART通信协议格式**

![image-20220401134827750](C:\Users\KY Xu\Desktop\picture\image-10)

空闲位+起始位+8位有效位+奇偶校验位+停止位+空闲位。

**uart电平标准**：

UART电平标准是TTL和RS232两种标准。